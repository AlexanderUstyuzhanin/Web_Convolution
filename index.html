<!DOCTYPE html>


<html>
<head>
    <meta charset="utf-8" />
    <title>CONVOLUTION DEMONSTRATOR & MORE</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/style.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script src="js/audioConv.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <!--    Imports from anthony-->
    <link rel="stylesheet" type="text/css" href="css/jsxgraph.css" />
    <script type="text/javascript" src="js/jsxgraphcore.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/plot_and_functions.js"></script>
</head>

<body>
    <h1>This is a web-based convolution demonstrator.</h1>
    <div class="tabs">
        <ul class="tab-links">
            <li class="active"><a href="#tab1">Convolution graph</a></li>
            <li><a href="#tab2">Audio Convolution</a></li>
        </ul>

        <div class="tab-content">
            <div id="tab1" class="tab active">
                <div id ="space" class ="space" > </div>

<div id ="boxGroup" class="boxGroup">

    <div id="jxgbox" class="jxgbox" style="width:600px; height:300px" ></div>
            <script type="text/javascript">
                var brd = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-3, 2, 3, -1], axis:true});
                d = brd.create('slider',[[1,1.5],[2.5,1.5],[-3,0,3]], {name:'SHIFT', snapWidth:0.5});

            </script>
     <div  style="width:600px; height:20px" ></div>
     <div id="jxgbox2" class="jxgbox" style="width:600px; height:300px" ></div>
        <script type="text/javascript">
           var brd2 = JXG.JSXGraph.initBoard('jxgbox2', {boundingbox: [-3, 10, 3, -1], axis:true});
           start(brd,brd2, d);
        </script>
 </div>
<div id ="formField" class="formField" align="top" >

    <form>
       <fieldset>
          <legend>Action Area</legend>
          <p>
             <label>Select Function 1</label>
             <select id = "functionList1" onchange="plot1(brd)">
               <option value = "1">Rectangle</option>
               <option value = "2">Triangle</option>
               <option value = "3">Gaussian</option>
               <option value = "4">Sinc</option>
             </select>
          </p>
          <p>
             <label>Select Function 2</label>
             <select id = "functionList2" onchange="plot2(brd, d)">
               <option value = "1">Triangle</option>
               <option value = "2">Rectangle</option>
               <option value = "3">Gaussian</option>
               <option value = "4">Sinc</option>
             </select>
          </p>
          <p>
              <button id="convoBtn" onclick="doConvo(brd2); return false;" >
                  Convolution
              </button>
              <button id="corrBtn" onclick="doCorrelation(brd2); return false;" >
                  AutoCorrelation
              </button>
          </p>

       </fieldset>
    </form>
</div>
            </div>

            <div id="tab2" class="tab">
                <h1>Audio convolution</h1>
                <p>Choose a file from your computer to try:
                    <input type="file" id="files" name="files[]" />
                </p>
                <p>Input sound:</p>
                <audio id="inputSound" controls></audio>
                <p>Choose an impulse response
                    <input type="file" id="iFiles" name="files[]" />
                    OR Choose from presets
                    <select id="irPreset">
                        <option value="" disabled selected style="display:none;">Select an impulse response...</option>
                        <option value="slinky">Slinky</option>
                        <option value="carpark">Carpark</option>
                    </select>

                </p>
                <p>Impulse response:</p>
                <audio id="impulseResponse" controls></audio>

                <p>Result:</p>
                <audio id="outputSound" controls></audio>
                <output id="list"></output>
            </div>

        </div>
    </div>

</body>
</html>
